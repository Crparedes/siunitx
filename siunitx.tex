\iffalse meta-comment

File: siunitx.tex Copyright (C) 2014-2017 Joseph Wright

It may be distributed and/or modified under the conditions of the
LaTeX Project Public License (LPPL), either version 1.3c of this
license or (at your option) any later version.  The latest version
of this license is in the file

   https://www.latex-project.org/lppl.txt

This file is part of the "siunitx bundle" (The Work in LPPL)
and all files in that bundle must be distributed together.

The released version of this bundle is available from CTAN.

-----------------------------------------------------------------------

The development version of the bundle can be found at

   https://github.com/josephwright/siunitx

for those people who are interested.

-----------------------------------------------------------------------

\fi

\documentclass{l3doc}

% The next line is needed so that \GetFileInfo will be able to pick up
% version data (quite apart from making the demos work).
\usepackage{siunitx}
\DeclareSIUnit\noop{\relax} % For printing prefixes

% Commands for this document
\usepackage{xparse}
\NewDocumentCommand\acro{m}{\textsc{#1}}
\NewDocumentCommand\email{m}{\href{mailto:#1}{\nolinkurl{#1}}}
\NewDocumentCommand\ext{m}{\texttt{.#1}}
\NewDocumentCommand\foreign{m}{\textit{#1}}
\NewDocumentCommand\opt{m}{\texttt{#1}}

\NewDocumentCommand\DescribePrefix{m}{%
  #1 &
  \cs{#1} &
  \unit{\csname #1\endcsname\noop}
}
\NewDocumentCommand\DescribeUnit{O{#2}m}{%
  #1 &
  \cs{#2} &
  \unit{\csname #2\endcsname}
}

% For creating code demonstrations
% This needs access to some code-level interfaces in listings
\usepackage{listings}
\makeatletter
\lst@RequireAspects{writefile}
\newsavebox\LaTeXdemo@box
\lstnewenvironment{LaTeXdemo}[1][code and example]
  {%
    \global\let\lst@intname\@empty
    \edef\LaTeXdemo@end{%
      \expandafter\noexpand\csname LaTeXdemo@@#1@end\endcsname
    }%
    \@nameuse{LaTeXdemo@@#1}%
  }
  {\LaTeXdemo@end}
\newcommand\LaTeXdemo@new[3]{%
  \@namedef{LaTeXdemo@@#1}{#2}%
  \@namedef{LaTeXdemo@@#1@end}{#3}%
}
\newcommand*\LaTeXdemo@common{%
  \setkeys{lst}
    {%
       basicstyle   = \small\ttfamily,
       basewidth    = 0.51em,
       gobble       = 2,
       language     = [LaTeX]{TeX},
    }%
}
\newcommand*\LaTeXdemo@input{%
  \catcode`\^^M = 10\relax
  \input{\jobname.tmp}%
}
\LaTeXdemo@new{code and example}{%
  \setbox\LaTeXdemo@box=\hbox\bgroup
    \lst@BeginAlsoWriteFile{\jobname.tmp}%
    \LaTeXdemo@common
}{%
    \lst@EndWriteFile
  \egroup
  \begin{center}
    \ifdim\wd\LaTeXdemo@box > 0.48\linewidth
      \begin{minipage}{\linewidth}
        \usebox\LaTeXdemo@box
      \end{minipage}%
      \par
      \begin{minipage}{\linewidth}
        \LaTeXdemo@input
      \end{minipage}
    \else
      \begin{minipage}{0.48\linewidth}
        \LaTeXdemo@input
      \end{minipage}%
      \hfil
      \begin{minipage}{0.48\linewidth}
        \usebox\LaTeXdemo@box
      \end{minipage}%
    \fi
  \end{center}
}
\makeatother

% For demos
\usepackage{sansmath}

% Design changes
\makeatletter
\edef\@floatboxreset{%
  \unexpanded\expandafter{\@floatboxreset}%
  \noexpand\centering
}
\makeatother

\hypersetup{hidelinks}

\begin{document}

\GetFileInfo{siunitx.sty}

\title{%
  \pkg{siunitx} -- A comprehensive (SI) units package%
  \thanks{This file describes \fileversion,
    last revised \filedate.}%
}

\author{%
  Joseph Wright%
  \thanks{%
    E-mail:
    \href{mailto:joseph.wright@morningstar2.co.uk}
      {joseph.wright@morningstar2.co.uk}%
  }%
}

\date{Released \filedate}

\maketitle

\tableofcontents

\begin{abstract}
  Physical quantities have both numbers and units, and each physical quantity
  should be expressed as the product of a number and a unit. Typesetting
  physical quantities requires care to ensure that the combined mathematical
  meaning of the number--unit combination is clear. In particular, the SI units
  system lays down a consistent set of units with rules on how these are to be
  used. However, different countries and publishers have differing conventions
  on the exact appearance of numbers (and units). The \pkg{siunitx} package
  provides a set of tools for authors to typeset quantities in a consistent
  way. The package has an extended set of configuration options which make it
  possible to follow varying typographic conventions with the same input
  syntax. The package includes automated processing of numbers and units, and
  the ability to control tabular alignment of numbers.
\end{abstract}

\begin{documentation}

\changes{v0.6}{2008/02/18}{First public testing release (as \pkg{si})}
\changes{v1.0}{2008/06/15}{First official release}
\changes{v2.0}{2010/05/23}
  {Re-write of package using \pkg{expl3} programming conventions}
\changes{v3.0}{2016/11/11}
  {Re-write of package to provide fully-documented code-level interfaces}

\section{Introduction}

The correct application of units of measurement is very important in technical
applications. For this reason, carefully-crafted definitions of a coherent
units system have been laid down by the \foreign{Conférence Génrale des
Poids et Mesures} (CGPM): this has resulted in the \foreign{Système
International d'Unités}~(SI). At the same time, typographic conventions for
correctly displaying both numbers and units exist to ensure that no loss of
meaning occurs in printed matter.

The \pkg{siunitx} package aims to provide a unified method for \LaTeX{} users
to typeset numbers and units correctly and easily. The design philosophy of
\pkg{siunitx} is to follow the agreed rules by default, but to allow variation
through option settings. In this way, users can use \pkg{siunitx} to follow the
requirements of publishers, co-authors, universities, \foreign{etc}.\ without
needing to alter the input at all.

\section{Using the \pkg{siunitx} package}

\subsection{Numbers}

\DescribeMacro{\num}
\begin{syntax}
  \cs{num}\oarg{options}\marg{number}
\end{syntax}
Numbers are automatically formatted by the \cs{num} macro. This takes one
optional argument, \meta{options}, and one mandatory one, \meta{number}. The
contents of \meta{number} are automatically formatted. The formatter removes
both \enquote{soft} (\verb*" ") and \enquote{hard} spaces ("\," and "~"),
automatically identifies exponents (as standard marked using "e", "E", "d" or
"D") and adds the appropriate spacing of large numbers. With the standard
settings a leading zero is added before a decimal marker, if needed: both "."
and "," are recognised as decimal markers.
\begin{LaTeXdemo}
  \num{123}     \\
  \num{1234}    \\
  \num{12345}   \\
  \num{0.123}   \\
  \num{0,1234}  \\
  \num{.12345}  \\
  \num{3.45d-4} \\
  \num{-e10}
\end{LaTeXdemo}

Note that numbers are parsed before typesetting, which does have a performance
overhead (only obvious with very large amounts of numerical input). The parser
understands a range of input syntaxes, as demonstrated above.

\subsection{Angles}

\DescribeMacro{\ang}
\begin{syntax}
  \cs{ang}\oarg{options}\marg{angle}
\end{syntax}
Angles can be typeset using the \cs{ang} command. The \meta{angle} can be given
either as a decimal number or as a semi-colon separated list of degrees,
minutes and seconds, which is called \enquote{arc format} in this document. The
numbers which make up an angle are processed using the same system as other
numbers.
\begin{LaTeXdemo}
  \ang{10}    \\
  \ang{12.3}  \\
  \ang{4,5}   \\
  \ang{1;2;3} \\
  \ang{;;1}   \\
  \ang{+10;;} \\
  \ang{-0;1;}
\end{LaTeXdemo}

\subsection{Units}

\DescribeMacro{\unit}
\begin{syntax}
  \cs{unit}\oarg{options}\marg{unit}
\end{syntax}
The symbol for a unit can be typeset using the \cs{unit} macro: this provides
full control over output format for the unit. Like the \cs{num} macro,
\cs{unit} takes one optional and one mandatory argument. The unit formatting
system can accept two types of input. When the \meta{unit} contains literal
items (for example letters or numbers) then \pkg{siunitx} converts \texttt{.}
and "~" into inter-unit product and correctly positions sub- and superscripts
specified using "_" and "^". The formatting methods will work with both math
and text mode.
\begin{LaTeXdemo}
  \unit{kg.m/s^2} \\
  \unit{g_{polymer}~mol_{cat}.s^{-1}}
\end{LaTeXdemo}

The second operation mode for the \cs{unit} macro is an \enquote{interpreted}
system, Here, each unit, SI multiple prefix and power is given a macro name.
These are entered in a method very similar to the reading of the unit name in
English.
\begin{LaTeXdemo}
  \unit{\kilo\gram\metre\per\square\second} \\
  \unit{\gram\per\cubic\centi\metre}        \\
  \unit{\square\volt\cubic\lumen\per\farad} \\
  \unit{\metre\squared\per\gray\cubic\lux}  \\
  \unit{\henry\second}
\end{LaTeXdemo}

On its own, this is less convenient than the direct method, although it does
use meaning rather than appearance for input. However, the package allows you
to define new unit macros; a large number of pre-defined abbreviations are also
supplied. More importantly, by defining macros for units, instead of literal
input, new functionality is made available. By altering the settings used by
the package, the same input can yield a variety of different output formats.
For example, the \cs{per} macro can give reciprocal powers, slashes or be used
to construct units as fractions.

\DescribeMacro{\qty}
\begin{syntax}
  \cs{qty}\oarg{options}\marg{number}\marg{unit}
\end{syntax}
Very often, numbers and units are given together. Formally, the value of a
quantity is the product of the number and the unit, the space being regarded as
a multiplication sign~\cite{SI:5.3.3}. The \cs{qty} macro combines the
functionality of \cs{num} and \cs{unit}, and makes this both possible and easy.
The \meta{number} and \meta{unit} arguments work exactly like those for the
\cs{num} and \cs{unit} macros, respectively.
\begin{LaTeXdemo}
  \qty[mode = text]{1.23}{J.mol^{-1}.K^{-1}}          \\
  \qty{.23e7}{\candela}                               \\
  \qty[per-mode = symbol]{1.99}{\per\kilogram}        \\
  \qty[per-mode = fraction]{1,345}{\coulomb\per\mole}
\end{LaTeXdemo}

It is possible to set up the unit macros to be available outside of the
\cs{qty} and \cs{unit} functions. This is not the standard behaviour as there
is the risk of name clashes (for example, \cs{bar} is used by other packages,
and several packages define \cs{degree}). Full details of using \enquote{stand
alone} units are found in \ref{sec:units:creating}.

\subsection{The unit macros}

The package always defines the basic set of SI units with macro names. This
includes the base SI units, the derived units with special names and the
prefixes. A small number of powers are also given pre-defined names. Full
details of units in the SI are available on-line~\cite{BIPM}.

\DescribeMacro{\meter}
The seven base SI units are always defined (Table~\ref{tab:unit:base}). In
addition, the macro \cs{meter} is available as an alias for \cs{metre}, for
users of US spellings. The full details of the base units are given in the SI
Brochure~\cite{SI:2.1}.
\begin{table}
  \caption{SI base units.}
  \label{tab:unit:base}
  \begin{tabular}{@{}lll@{}}
    \toprule
      Unit & Command & Symbol \\
    \midrule
      \DescribeUnit{ampere}   \\
      \DescribeUnit{candela}  \\
      \DescribeUnit{kelvin}   \\
      \DescribeUnit{kilogram} \\
      \DescribeUnit{metre}    \\
      \DescribeUnit{mole}     \\
      \DescribeUnit{second}   \\
    \bottomrule
  \end{tabular}
\end{table}

The SI also lists a number of units which have special names and
symbols~\cite{SI:2.2.2}: these are listed in Table~\ref{tab:unit:derived}.
\begin{table}
  \caption{Coherent derived units in the SI with special names and
    symbols.}
  \label{tab:unit:derived}
  \begin{tabular}{@{}lll>{\qquad}lll@{}}
    \toprule
      Unit & Command & Symbol & Unit & Command & Symbol \\
    \midrule
      \DescribeUnit{becquerel} &
      \DescribeUnit{newton}    \\
      \DescribeUnit[degree Celsius]{degreeCelsius} &
      \DescribeUnit{ohm}       \\
      \DescribeUnit{coulomb}   &
      \DescribeUnit{pascal}    \\
      \DescribeUnit{farad}     &
      \DescribeUnit{radian}    \\
      \DescribeUnit{gray}      &
      \DescribeUnit{siemens}   \\
      \DescribeUnit{hertz}     &
      \DescribeUnit{sievert}   \\
      \DescribeUnit{henry}     &
      \DescribeUnit{steradian} \\
      \DescribeUnit{joule}     &
      \DescribeUnit{tesla}     \\
      \DescribeUnit{lumen}     &
      \DescribeUnit{volt}      \\
      \DescribeUnit{katal}     &
      \DescribeUnit{watt}      \\
      \DescribeUnit{lux}       &
      \DescribeUnit{weber}     \\
    \bottomrule
  \end{tabular}
\end{table}

In addition to the official SI units, \pkg{siunitx} also provides macros for a
number of units which are accepted for use in the SI although they are not SI
units. Table~\ref{tab:unit:accepted} lists the \enquote{accepted}
units~\cite{SI:T6}. Some units are fundamental physical quantities, and these
are non-SI but can be used within the SI
(Table~\ref{tab:unit:physical},~\cite{SI:T7}). There are also a set of non-SI
units which are used in certain defined circumstances
(Table~\ref{tab:unit:other}), although they are not necessarily officially
sanctioned~\cite{SI:T8}. Finally, for specialist applications, a range of
\acro{cgs} units are sanctioned (Table~\ref{tab:unit:CGS})~\cite{SI:T9}.
\DescribeMacro{\percent}
The command \cs{percent} is also provided for use in units: this is accepted
with the SI as detailed in Section~5.3.7 of the Brochure~\cite{SI:5.3.7}.
\begin{table}
  \caption{Non-SI units accepted for use with the International System of
    Units.}
  \label{tab:unit:accepted}
  \begin{tabular}{@{}lll@{}}
    \toprule
      Unit & Command & Symbol \\
    \midrule
      \DescribeUnit{day}     \\
      \DescribeUnit{degree}  \\
      \DescribeUnit{hectare} \\
      \DescribeUnit{hour}    \\
      \DescribeUnit{litre}   \\
       & \cs{liter} & \unit{\liter} \\
      \DescribeUnit[minute (plane angle)]{arcminute} \\
      \DescribeUnit[minute (time)]{minute} \\
      \DescribeUnit[second (plane angle)]{arcsecond} \\
      \DescribeUnit{tonne}   \\
    \bottomrule
  \end{tabular}
\end{table}
\begin{table}
  \caption{Non-SI units whose values in SI units must be obtained
    experimentally.}
  \label{tab:unit:physical}
  \begin{tabular}{@{}lll@{}}
    \toprule
      Unit & Command & Symbol \\
    \midrule
      \DescribeUnit[astronomical unit]{astronomicalunit}\\
      \DescribeUnit[atomic mass unit]{atomicmassunit} \\
      \DescribeUnit[a.u.~of action]{auaction} \\
      \DescribeUnit[a.u.~of charge]{aucharge} \\
      \DescribeUnit[a.u.~of energy]{auenergy} \\
      \DescribeUnit[a.u.~of length]{aulength} \\
      \DescribeUnit[a.u.~of mass]{aumass} \\
      \DescribeUnit[a.u.~of time]{autime} \\
      \DescribeUnit{bohr} \\
      \DescribeUnit{dalton} \\
      \DescribeUnit{electronvolt} \\
      \DescribeUnit{hartree} \\
      \DescribeUnit[n.u.~of action]{nuaction} \\
      \DescribeUnit[n.u.~of mass]{numass} \\
      \DescribeUnit[n.u.~of speed]{nuspeed} \\
      \DescribeUnit[n.u.~of time]{nutime} \\
    \bottomrule
  \end{tabular}
\end{table}
\begin{table}
  \caption{Other non-SI units.}
  \label{tab:unit:other}
  \begin{tabular}{@{}lll@{}}
    \toprule
      Unit & Command & Symbol \\
    \midrule
      \DescribeUnit[ångström]{angstrom} \\
      \DescribeUnit{bar} \\
      \DescribeUnit{barn} \\
      \DescribeUnit{bel} \\
      \DescribeUnit{decibel} \\
      \DescribeUnit{knot} \\
      \DescribeUnit[millimetre of mercury]{millimetremercury} \\
      \DescribeUnit[nautical mile]{nauticalmile} \\
      \DescribeUnit{neper} \\
    \bottomrule
  \end{tabular}
\end{table}
\begin{table}
  \caption{Non-SI units associated with the \acro{cgs}.}
  \label{tab:unit:CGS}
  \begin{tabular}{@{}lll@{}}
    \toprule
      Unit & Command & Symbol \\
    \midrule
      \DescribeUnit{dyne}    \\
      \DescribeUnit{erg}     \\
      \DescribeUnit{gal}     \\
      \DescribeUnit{gauss}   \\
      \DescribeUnit{maxwell} \\
      \DescribeUnit{oersted} \\
      \DescribeUnit{phot}    \\
      \DescribeUnit{poise}   \\
      \DescribeUnit{stilb}   \\
      \DescribeUnit{stokes}  \\
    \bottomrule
  \end{tabular}
\end{table}

\DescribeMacro{\deka}
In addition to the units themselves, \pkg{siunitx} provides pre-defined macros
for all of the SI prefixes (Table~\ref{tab:unit:prefix})~\cite{SI:3.1}. The
spelling \enquote{\cs{deka}} is provided for US users as an alternative to
\cs{deca}.
\begin{table}
  \caption{SI prefixes.}
  \label{tab:unit:prefix}
  \begin{tabular}{@{}llc>{$}r<{$}>{\qquad}llc>{$}r<{$}@{}} % TODO
    \toprule
      Prefix & Command & Symbol & \multicolumn{1}{l}{Power} &
      Prefix & Command & Symbol & \multicolumn{1}{l@{}}{Power} \\
    \midrule
      \DescribePrefix{yocto} & -24 &
      \DescribePrefix{deca}  &   1 \\
      \DescribePrefix{zepto} & -21 &
      \DescribePrefix{hecto} &   2 \\
      \DescribePrefix{atto}  & -18 &
      \DescribePrefix{kilo}  &   3 \\
      \DescribePrefix{femto} & -15 &
      \DescribePrefix{mega}  &   6 \\
      \DescribePrefix{pico}  & -12 &
      \DescribePrefix{giga}  &  9 \\
      \DescribePrefix{nano}  &  -9 &
      \DescribePrefix{tera}  &  12 \\
      \DescribePrefix{micro} & -6 &
      \DescribePrefix{peta}  &  15 \\
      \DescribePrefix{milli} &  -3 &
      \DescribePrefix{exa}   &  18 \\
      \DescribePrefix{centi} &  -2 &
      \DescribePrefix{zetta} &  21 \\
      \DescribePrefix{deci}  &  -1 &
      \DescribePrefix{yotta} &  24 \\
    \bottomrule
  \end{tabular}
\end{table}

\DescribeMacro{\square}
\DescribeMacro{\squared}
\DescribeMacro{\cubic}
\DescribeMacro{\cubed}
A small number of pre-defined powers are provided as macros. \cs{square} and
\cs{cubic} are intended for use before units, with \cs{squared} and \cs{cubed}
going after the unit.
\begin{LaTeXdemo}
  \unit{\square\becquerel} \\
  \unit{\joule\squared\per\lumen} \\
  \unit{\cubic\lux\volt\tesla\cubed}
\end{LaTeXdemo}
\DescribeMacro{\tothe}
\DescribeMacro{\raiseto}
Generic powers can be inserted on a one-off basis using the \cs{tothe} and
\cs{raiseto} macros. These are the only macros for units which take an
argument:
\begin{LaTeXdemo}
  \unit{\henry\tothe{5}} \\
  \unit{\raiseto{4.5}\radian}
\end{LaTeXdemo}
\DescribeMacro{\per}
Reciprocal powers are indicated using the \cs{per} macro. This applies to the
next unit only, unless the \opt{sticky-per} option is turned on.
\begin{LaTeXdemo}
  \unit{\joule\per\mole\per\kelvin} \\
  \unit{\joule\per\mole\kelvin} \\
  \unit{\per\henry\tothe{5}} \\
  \unit{\per\square\becquerel}
\end{LaTeXdemo}
\DescribeMacro{\of}
As for generic powers, generic qualifiers are also available using the \cs{of}
function:
\begin{LaTeXdemo}
  \unit{\kilogram\of{metal}} \\
  \qty[qualifier-mode = bracket]
    {0.1}{\milli\mole\of{cat}\per\kilogram\of{prod}}
\end{LaTeXdemo}

\section{Package control options}

\subsection{The key--value control system}

 The package uses a range of different key types:
\begin{description}
  \item[\texttt{Choice}] Takes a limited number of choices, which are described
    separately for each key.
  \item[\texttt{Integer}] Requires a number as the argument.
  \item[\texttt{Length}] Requires a length, either as a literal
    value such as \texttt{2.0cm}, or stored as a \LaTeX{} length.
  \item[\texttt{Literal}] A key which uses the value(s) given directly,
    either to check input or in output.
  \item[\texttt{Macro}] Requires a macro, which may need a single argument.
  \item[\texttt{Math}] Similar to a \texttt{literal} option, but the input is
    always used in math mode, irrespective of other \pkg{siunitx} settings.
    Thus to text-mode only input must be placed inside the argument of a
    \cs{text} macro.
  \item[\texttt{Meta}] These are options which actually apply a number of
    other options.
  \item[\texttt{Switch}] These are on--off switches, and recognise \opt{true}
    and \opt{false}.  Giving just the key name also turns the key on.
\end{description}
The tables of option names use these descriptions to indicate how the keys
should be used.

\subsection{Printing}

The \pkg{siunitx} package can control the font used to print output
independently of the surrounding material. Which aspects of the font follow
those of the surroundings is influenced by a range of setting as detailed in
Section~\ref{tab:opt:print}.
\begin{table}
  \caption{Print options.}
  \label{tab:opt:print}
  \begin{tabular}{@{}>{\ttfamily}ll>{\ttfamily}l@{}}
    \toprule
      \multicolumn{1}{@{}l}{Option name} &
      Type &
      \multicolumn{1}{l@{}}{Default} \\
    \midrule
      color               & Literal & \meta{none} \\
      mode                & Choice  & math        \\
      number-color        & Literal & \meta{none} \\
      number-mode         & Choice  & math        \\
      propagate-math-font & Switch  & false       \\
      reset-math-version  & Switch  & true        \\
      reset-text-family   & Switch  & true        \\
      reset-text-series   & Switch  & true        \\
      reset-text-shape    & Switch  & true        \\
      text-family-to-math & Switch  & false       \\
      text-weight-to-math & Switch  & false       \\
      unit-color          & Literal & \meta{none} \\
      unit-mode           & Choice  & math        \\
    \bottomrule
  \end{tabular}
\end{table}

\DescribeOption{mode}
\DescribeOption{number-mode}
\DescribeOption{unit-mode}
The \opt{mode} option determines whether \pkg{siunitx} uses math or text mode
when printing output. The choices are \opt{match}, \opt{math}, \opt{text}. The
\opt{match} setting means that printing uses the prevailing mode unchanged
whereas \opt{math} and \opt{text} select the appropriate \TeX{} mode. It is
possible to have different fonts in math and text modes, which will highlight
the difference. The font settings which apply are also different depending on
the mode. As well as the overall setting, it is possible to apply mode
to numbers and units separately using the \opt{number-mode} and \opt{unit-mode}
options.

\DescribeOption{reset-text-family}
\DescribeOption{reset-text-series}
\DescribeOption{reset-text-shape}
When printing in text mode, the options \opt{reset-text-family},
\opt{reset-text-series} and \opt{reset-text-shape} apply. When these are
active, \pkg{siunitx} resets the relevant font selection axis property
when printing: the standard font setting is upright mid-weight roman
(|\upshape| |\mdseries| |\rmfamily|).
\begin{LaTeXdemo}
  \sisetup{mode = text}
  {\itshape  \num{1234}}\\
  {\bfseries \num{1234}}\\
  {\sffamily \num{1234}}\\
  \sisetup{
    reset-text-family = false ,
    reset-text-series = false ,
    reset-text-shape  = false
  }
  {\itshape  \num{1234}}\\
  {\bfseries \num{1234}}\\
  {\sffamily \num{1234}}\\
\end{LaTeXdemo}

\DescribeOption{propagate-math-font}
\DescribeOption{reset-math-version}
In math mode, the font used by \LaTeX{} is \enquote{invariant}, and this is
reflected in the options available. With the standard settings, in math mode
printing uses the standard math font and version (weight). The option
\opt{propagate-math-font} may be used to apply the a prevailing math font
to the printed material. The setting \opt{reset-math-version} controls
whether the math version is reset or not. Note that math version is typically
used to set \enquote{bold math} but may also be used for other effects, for
example all sanserif math.
\begin{LaTeXdemo}
  {\boldmath \unit{\kilogram}}\\
  {\sansmath $\unit{\kilogram}$}\\
  {$\mathsf{\unit{\kilogram}}$}\\
  \sisetup{
    propagate-math-font = true  ,
    reset-math-version  = false
  }
  {\boldmath \unit{\kilogram}}\\
  {\sansmath $\unit{\kilogram}$}\\
  {$\mathsf{\unit{\kilogram}}$}
\end{LaTeXdemo}

\DescribeOption{text-family-to-math}
\DescribeOption{text-wright-to-math}
The options \opt{text-family-to-math} and \opt{text-family-to-math} can be
used to match (as far as possible) math mode output to the surrounding text.
These options work by detecting the current text settings and making the
appropriate choice in math mode.
\begin{LaTeXdemo}
  {\sffamily \unit{\kilogram}}\\
  {\bfseries $\unit{\kilogram}$}\\
  \sisetup{
    text-family-to-math = true  ,
    text-weight-to-math = true
  }
  {\sffamily \unit{\kilogram}}\\
  {\bfseries $\unit{\kilogram}$}
\end{LaTeXdemo}

\DescribeOption{color}
\DescribeOption{color}
\DescribeOption{unit-color}
The color of printed output can be set using the \opt{color} option. When no
color is given, printing follows the surrounding text. In contrast, when a
specific color is given, it is used irrespective of the surroundings. As with
\opt{mode}, the \opt{color} setting may also be applied to numbers and units
independently.
\begin{LaTeXdemo}
  \color{red}
  Some text \\
  \qty{4}{\kilogram} \\
  More text \\
  \qty[color = blue]{4}{\kilogram} \\
  Still red here!
\end{LaTeXdemo}

\subsection{Angles}

Angle processing provided by the \cs{ang} function has a set of options which
apply in addition to the general ones set up for number processing.
\begin{table}
  \caption{Angle options.}
  \label{tab:opt:ang}
  \begin{tabular}{@{}>{\ttfamily}ll>{\ttfamily}l@{}}
    \toprule
      \multicolumn{1}{@{}l}{Option name} &
      Type &
      \multicolumn{1}{l@{}}{Default} \\
    \midrule
      angle-format              & Choice  & input        \\
      angle-symbol-over-decimal & Switch  & false        \\
      arc-separator             & Literal & \meta{empty} \\
      fill-arc-degrees          & Switch  & false        \\
      fill-arc-minutes          & Switch  & false        \\
      fill-arc-seconds          & Switch  & false        \\
      number-angle-product      & Literal & \meta{empty} \\
    \bottomrule
  \end{tabular}
\end{table}

\DescribeOption{angle-format}
The format in which angles are printed can be set using the \opt{angle-format}
option. With the standard setting (\opt{input}), the angle is printed as-given.
By setting the option to \opt{arc} or \opt{decimal}, the output format can
be set to an arc (degrees/minutes/seconds) or decimal value. Conversion uses
the \LaTeX3 floating-point unit, so is limited to $16$ decimal places.
\begin{LaTeXdemo}
  \ang{2.67} \\
  \ang{2;3;4} \\
  \ang[angle-format = arc]{2.67} \\
  \ang[angle-format = arc]{2;3;4} \\
  \ang[angle-format = decimal]{2.67} \\
  \ang[angle-format = decimal]{2;3;4} \\
\end{LaTeXdemo}

\DescribeOption{number-angle-product}
The separator between the number and angle symbol (degrees, minutes or seconds)
can be set using the \opt{number-angle-product} option, independent of the
related \opt{number-unit-product} option used by the \cs{qty} command.
\begin{LaTeXdemo}
  \ang{2.67} \\
  \ang[number-angle-product = \,]{2.67}
\end{LaTeXdemo}

\DescribeOption{arc-separator}
When angles are printed in arc format, the separation of the different parts is
set up using the \opt{arc-separator} option.
\begin{LaTeXdemo}
  \ang{6;7;6.5} \\
  \ang[arc-separator = \,]{6;7;6.5}
\end{LaTeXdemo}

\DescribeOption{fill-arc-degree}
\DescribeOption{fill-arc-minute}
\DescribeOption{fill-arc-second}
Zero-filling for the degree, minute or second parts of an arc is controlled
using the \opt{fill-arc-degree}, \opt{fill-arc-minute} and
\opt{fill-arc-second} options. All are off as standard.
\begin{LaTeXdemo}
  \ang{-1;;} \\
  \ang{;-2;} \\
  \ang{;;-3} \\
  {
    \sisetup{fill-arc-degrees}
    \ang{-1;;} \\
    %\ang{;-2;} \\
    %\ang{;;-3} \\
  }
  {
    \sisetup{fill-arc-minutes}
    \ang{-1;;} \\
    \ang{;-2;} \\
    %\ang{;;-3} \\
  }
  {
    \sisetup{fill-arc-seconds}
    \ang{-1;;} \\
    \ang{;-2;} \\
    \ang{;;-3}
  }
\end{LaTeXdemo}

\DescribeOption{angle-symbol-over-decimal}
In some subject areas, most notably astronomy, the angle symbols are given over
the decimal marker, rather than at the end of the number. This behaviour is
available using the \opt{angle-symbol-over-decimal} option.
%\begin{LaTeXdemo}
%  \ang{45.697}  \\
%  \ang{6;7;6.5} \\
%  \ang[angle-symbol-over-decimal]{45.697} \\
%  \ang[angle-symbol-over-decimal]{6;7;6.5}
%\end{LaTeXdemo}

\section{Installation}

For most users, there will be no need to explicitly install \pkg{siunitx}:
it is available from the package management system in current \TeX{} Live
and MiK\TeX{} systems.

For manual installation, the package is available from
\href{http://ctan.org/pkg/siunitx}{\acro{ctan}}. As well as the raw source
files, \acro{ctan} hold the package as a pre-extracted zip file,
\file{siunitx.tds.zip}. The later is most convenient for most users: simply
unzip this in your local \path{texmf} directory.

The package requires \LaTeX3 support as provided in the \pkg{l3kernel} and
\pkg{l3packages} bundles. Both of these are included in \TeX{} Live and
MiK\TeX{}, or are again available in ready-to-install form from \acro{ctan}.

\section{Thanks}

Many users have provided feedback, bug reports and ideas for new features for
\pkg{siunitx}: thanks to all of them. Particular thanks to Stefan Pinnow, who
has taken the lead role as beta tester for \pkg{siunitx}, finding incorrect
output, bad documentation and the odd spelling mistake in the documentation.
Thanks also to Enrico Gregorio for encouraging me to complete a fully
\pkg{expl3}-compliant version of the package. Thanks also to Danie Els and
Marcel Heldoorn for the \pkg{SIstyle} and \pkg{SIunits} packages, respectively,
which provided the starting point for the development of \pkg{siunitx}.

\section{Making suggestions and reporting bugs}

Feedback on \pkg{siunitx} is always welcome, either to make suggestions or to
report problems. When sending feedback, it is always useful if a small example
file is included, showing the bug being reported or illustrating the desired
output. It is helpful if a \enquote{reference rendering} is included, showing
what the output should look like. A typical example file might read
\begin{verbatim}
  \listfiles
  % Use the article class unless the problem is class-dependent
  \documentclass{article}
  \usepackage{siunitx}
  % Other packages loaded as required
  \begin{document}
  Reference output: $1.23\,\mathrm{m}$

  siunitx output: \qty{1.23}{\metre}
  \end{document}
\end{verbatim}
As illustrated, it is usually best to use the \cls{article} class and to only
load packages which are needed to show the issue. It is also useful to include
a copy of the log file generate by \LaTeX{} when reporting a bug (as the
versions of packages can be important to solving the issue).

Feedback can be sent in a range of ways. The development code and issue tracker
are hosted on \href{https://github.com/josephwright/siunitx/}{GitHub}. Issues
opened there are visible to other users and makes sure that they cannot be
forgotten.

\end{documentation}

\begin{thebibliography}{10}
  \bibitem{BIPM}
    \emph{The International System of Units (SI)},
    \url{https://www.bipm.org/en/measurement-units/}.
  \bibitem{SI:2.1}
    \emph{SI base units},
    \url{https://www.bipm.org/en/publications/si-brochure/section2-1.html}.
  \bibitem{SI:2.2.2}
    \emph{Units with special names and symbols; units that
      incorporate special names and symbols},
    \url{https://www.bipm.org/en/publications/si-brochure/section2-2-2.html}.
  \bibitem{SI:3.1}
    \emph{SI Prefixes},
    \url{https://www.bipm.org/en/publications/si-brochure/chapter3.html}.
  \bibitem{SI:5.3.3}
    \emph{Formatting the value of a quantity},
    \url{https://www.bipm.org/en/publications/si-brochure/section5-3-3.html}.
  \bibitem{SI:5.3.7}
    \emph{Stating values of dimensionless quantities, or quantities of
      dimension one},
    \url{https://www.bipm.org/en/publications/si-brochure/section5-3-7.html}.
  \bibitem{SI:T6}
    \emph{Non-SI units accepted for use with the International
      System of Units},
    \url{https://www.bipm.org/en/publications/si-brochure/table6.html}.
  \bibitem{SI:T7}
    \emph{Non-SI units whose values in SI units must be obtained
      experimentally},
    \url{https://www.bipm.org/en/publications/si-brochure/table7.html}.
  \bibitem{SI:T8}
    \emph{Other non-SI units},
    \url{https://www.bipm.org/en/publications/si-brochure/table8.html}.
  \bibitem{SI:T9}
    \emph{Non-SI units associated with the CGS and the CGS-Gaussian
      system of units},
    \url{https://www.bipm.org/en/publications/si-brochure/table9.html}.
\end{thebibliography}

\PrintIndex

\end{document}